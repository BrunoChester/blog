<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementation Learnings: Building a Multi-Agent GTM System</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Mono', monospace;
            line-height: 1.6;
            color: #1a1a1a;
            background: #fafafa;
            font-size: 16px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        /* Navigation */
.nav {
    padding: 20px 0;
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 40px;
}

.back-to-blog {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: #666;
    text-decoration: none;
    font-size: 14px;
    font-weight: 400;
    transition: color 0.2s ease;
}

.back-to-blog:hover {
    color: #1a1a1a;
}

.back-to-blog::before {
    content: "←";
    font-size: 16px;
}

        /* Header */
        .header {
            padding: 60px 0 40px 0;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 40px;
        }

        .header h1 {
    font-size: 2.25rem;
    font-weight: 300;
    color: #2c3e50;
    margin-bottom: 20px;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

        .header .subtitle {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        /* Demo Video Styles */
        .demo-container {
            max-width: 800px;
            margin: 60px auto;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            padding: 0;
        }

        .demo-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            background: #fafafa;
        }

        .demo-title {
            font-size: 16px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 5px;
        }

        .demo-subtitle {
            font-size: 14px;
            color: #666;
        }

        .demo-content {
            padding: 40px;
            text-align: center;
            background: #1a1a1a;
        }

        .demo-gif {
            max-width: 100%;
            height: auto;
            border: 2px solid #333;
            border-radius: 8px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
            transition: transform 0.3s ease;
        }

        .demo-gif:hover {
            transform: scale(1.02);
        }

        .demo-caption {
            margin-top: 20px;
            font-size: 14px;
            color: #ccc;
            font-style: italic;
            line-height: 1.5;
        }

        .demo-tech-note {
            margin-top: 15px;
            padding: 15px;
            background: #333;
            border-radius: 4px;
            font-size: 12px;
            color: #888;
            text-align: left;
            border-left: 3px solid #666;
        }

        /* Simple Example Container */
        .simple-example-container {
            max-width: 800px;
            margin: 30px auto;
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }

        .simple-example-header {
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            background: #f0f0f0;
        }

        .simple-example-title {
            font-size: 14px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 5px;
        }

        .simple-example-subtitle {
            font-size: 13px;
            color: #666;
            font-style: italic;
        }

        .simple-example-content {
            padding: 20px;
        }

        .prompt-box {
            background: #2a2a2a;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .prompt-text {
            color: #e0e0e0;
            font-family: 'Space Mono', monospace;
            font-size: 14px;
            line-height: 1.4;
        }

        .prompt-label {
            color: #888;
            font-size: 12px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .output-image {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        /* Content */
        .content {
            margin-bottom: 60px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section h2 {
            font-size: 32px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 20px;
            letter-spacing: -0.01em;
        }

        .section h3 {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            margin: 40px 0 15px 0;
        }

        .section p {
            font-size: 16px;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.7;
        }

        .intro-text {
            font-size: 18px;
            color: #1a1a1a;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        /* Learning sections */
        .learning-section {
            margin-bottom: 50px;
        }

        .learning-number {
            font-size: 14px;
            font-weight: 700;
            color: #999;
            margin-bottom: 10px;
        }

        .learning-title {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 20px;
            letter-spacing: -0.01em;
        }

        /* Simple lists */
        .feature-list {
            margin: 30px 0;
        }

        .feature-list li {
            font-size: 16px;
            color: #333;
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .feature-list li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #666;
        }

        /* Key learning emphasis */
        .key-learning {
            font-weight: 700;
            color: #1a1a1a;
            margin-top: 20px;
            font-style: italic;
        }

        /* Final section */
        .final-section {
            border-top: 1px solid #e0e0e0;
            padding-top: 40px;
            margin-top: 60px;
        }

        /* Responsive */
       @media (max-width: 768px) {
    .header h1 {
        font-size: 1.875rem;
    }
}
            
            .header h1 {
                font-size: 36px;
            }
            
            .learning-title {
                font-size: 20px;
            }

            .demo-content {
                padding: 20px;
            }

            .simple-example-content {
                padding: 15px;
            }

            .prompt-text {
                font-size: 13px;
            }
        }

        strong {
            font-weight: 700;
            color: #1a1a1a;
        }

        em {
            font-style: italic;
            color: #1a1a1a;
        }
    </style>
</head>
<body>
    <nav class="nav">
    <a href="https://brunochester.github.io/blog/" class="back-to-blog">Back to Blog</a>
</nav>
    <div class="container">
        <header class="header">
            <h1>Implementation Learnings: Building a Multi-Agent GTM System</h1>
            <div class="subtitle">
                Key insights from deploying a production-ready AI system that handles live business data at Microsoft.
            </div>
        </header>

        <main class="content">
            <section class="section">
                <p class="intro-text">
                    After deploying this natural language interface system at Microsoft, several key implementation insights emerged from building a production ready AI system that handles live business data. Here are the learnings:
                </p>

                <!-- Demo Video Section -->
                <div class="demo-container">
                    <div class="demo-header">
                        <div class="demo-title">Live System Demonstration</div>
                        <div class="demo-subtitle">Multi-agent workflow with transparency layer</div>
                    </div>
                    <div class="demo-content">
                        <img src="assets/images/msedge_mhyyAZQEPe.gif" alt="Project Sophia UAT Demo - Natural Language GTM Interface" class="demo-gif">
                        <div class="demo-caption">
                            <strong>Watch the three-agent system in action:</strong><br>
                            Natural language query → Data sourcing → Analysis → Visualization with full "show your work" transparency
                        </div>
                        <div class="demo-tech-note">
                            <strong>Technical Note:</strong> The demo shows the complete multi-agent workflow where each AI agent specializes in a specific task (data extraction, analysis, visualization) while maintaining full auditability of the reasoning process through the transparency layer.
                        </div>
                    </div>
                </div>
            </section>

            <div class="learning-section">
                <div class="learning-number">1.</div>
                <h3 class="learning-title">Agent Specialization Drives Reliability</h3>
                <p>
                    The three-agent architecture (data sourcing → analysis → visualization) proved essential for maintaining system reliability. Each agent has a narrowly defined role:
                </p>
                <ul class="feature-list">
                    <li><strong>Data Agent:</strong> Exclusively handles API connections and data extraction</li>
                    <li><strong>Analysis Agent:</strong> Focuses solely on business rule interpretation and logic processing</li>
                    <li><strong>Visualization Agent:</strong> Specializes in formatting and presenting insights</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Specialized agents with clear boundaries perform more consistently than general-purpose agents attempting multiple tasks. This separation also simplified debugging—when issues arose, we could quickly isolate which agent was responsible.
                </p>
            </div>

            <div class="learning-section">
                <div class="learning-number">2.</div>
                <h3 class="learning-title">Control Logic Evolution: From Simple to ReAct</h3>
                <p>
                    We initially implemented basic tool-use patterns but evolved toward a ReAct approach (Plan → Execute → Observe → Iterate) for the analysis agent. This was particularly critical when handling complex GTM business rules that required multiple API calls or data transformations.
                </p>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Start simple with tool-use patterns, but prepare to implement more sophisticated control logic as system complexity grows. The "show your work" feature became possible because we could capture each agent's reasoning steps.
                </p>

                <!-- Simple Example Section -->
                <div class="simple-example-container">
                    <div class="simple-example-header">
                        <div class="simple-example-title">The Very First Output</div>
                        <div class="simple-example-subtitle">Starting with the simplest possible implementation</div>
                    </div>
                    <div class="simple-example-content">
                        <div class="prompt-label">Initial Prompt:</div>
                        <div class="prompt-box">
                            <div class="prompt-text">
                                "Please identify similarities and differences in the Marketo SmartLists from the campaigns scheduled for 10/21/2024 by analyzing what traits are unique and what traits overlap between the SmartLists"
                            </div>
                        </div>
                        <img src="assets/images/ai_output.png" alt="First AI Model Output - Marketo SmartList Analysis" class="output-image">
                    </div>
                </div>
            </div>

            <div class="learning-section">
                <div class="learning-number">3.</div>
                <h3 class="learning-title">Memory Strategy for Live Business Data</h3>
                <p>
                    Unlike traditional chatbots, our system needed to balance fresh data with conversational context. We implemented a hybrid memory approach:
                </p>
                <ul class="feature-list">
                    <li>Sliding window for conversation context</li>
                    <li>Scheduled refresh for business rules (weekly API pulls)</li>
                    <li>Session-based state for multi-step queries</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Live business data requires different memory strategies than general knowledge systems. The weekly refresh cycle matched our platform's change frequency—over-fetching created unnecessary load without improving accuracy.
                </p>
            </div>

            <div class="learning-section">
                <div class="learning-number">4.</div>
                <h3 class="learning-title">Tool Design for Enterprise APIs</h3>
                <p>
                    Creating tools that interface with GTM platform APIs required careful consideration of error handling and data validation:
                </p>
                <ul class="feature-list">
                    <li>Clear naming conventions for API endpoints</li>
                    <li>Comprehensive error handling for API failures</li>
                    <li>Schema validation for incoming business rule data</li>
                    <li>Fallback responses when live data is unavailable</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Enterprise API integrations need robust error handling. Business users expect consistent responses even when underlying systems have issues.
                </p>

                <!-- Error Handling Example Section -->
                <div class="simple-example-container">
                    <div class="simple-example-header">
                        <div class="simple-example-title">Error handling example</div>
                        <div class="simple-example-subtitle">Check with end users what error messaging resonates better</div>
                    </div>
                    <div class="simple-example-content">
                        <div class="prompt-label">Initial Prompt:</div>
                        <div class="prompt-box">
                            <div class="prompt-text">
                                "Of the emails deploying in the next 14 days, what are the 10 most commonly used values in 'member of' smart list criteria"
                            </div>
                        </div>
                        <img src="assets/images/give_more_info_output.png" alt="error output image asking for more information" class="output-image">
                    </div>
                </div>
            </div>

            <div class="learning-section">
                <div class="learning-number">5.</div>
                <h3 class="learning-title">Multi-Agent Coordination Challenges</h3>
                <p>
                    The most complex aspect was managing information flow between agents while maintaining transparency. Our approach:
                </p>
                <ul class="feature-list">
                    <li><strong>Structured handoffs:</strong> Each agent outputs structured data for the next</li>
                    <li><strong>Error propagation:</strong> Failed steps halt the pipeline with clear error messages</li>
                    <li><strong>State preservation:</strong> The "show your work" feature required maintaining each agent's reasoning chain</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Multi-agent systems require explicit coordination protocols. Ad-hoc information sharing between agents creates unpredictable behaviors that are difficult to debug in production.
                </p>

                <!-- Unpredictable Outputs Example Section -->
                <div class="simple-example-container">
                    <div class="simple-example-header">
                        <div class="simple-example-title">Dealing with unpredictable outputs</div>
                        <div class="simple-example-subtitle">Clearly identify the universe of knowledge of your AI agents</div>
                    </div>
                    <div class="simple-example-content">
                        <div class="prompt-label">Initial Prompt:</div>
                        <div class="prompt-box">
                            <div class="prompt-text">
                                "Show me list fatigue for Korea"
                            </div>
                        </div>
                        <img src="assets/images/korea_output.png" alt="unpredictable output without business context" class="output-image">
                    </div>
                </div>
            </div>

            <div class="learning-section">
                <div class="learning-number">6.</div>
                <h3 class="learning-title">Raw LLM Output Handling in Enterprise Context</h3>
                <p>
                    Post-processing became critical for enterprise deployment:
                </p>
                <ul class="feature-list">
                    <li>Converting analysis results to consistent JSON schemas</li>
                    <li>Validating business rule interpretations against known patterns</li>
                    <li>Formatting outputs for integration with existing communication tools</li>
                    <li>Maintaining audit trails for compliance</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Enterprise systems require structured, auditable outputs. Raw LLM responses need significant post-processing to meet business requirements.
                </p>

                <!-- Business Rules Validation Example Section -->
                <div class="simple-example-container">
                    <div class="simple-example-header">
                        <div class="simple-example-title">Business Rules Validation is key and ongoing</div>
                        <div class="simple-example-subtitle">Business Rules have better results if sourced straight from the tool</div>
                    </div>
                    <div class="simple-example-content">
                        <div class="prompt-label">Initial Prompt:</div>
                        <div class="prompt-box">
                            <div class="prompt-text">
                                "What is considered an invalid email today?"
                            </div>
                        </div>
                        <img src="assets/images/marketo_email_human_readable_answer.png" alt="invalid email explanation output" class="output-image">
                        <img src="assets/images/marketo_business_rules.png" alt="Marketo Business Rules example" class="output-image" style="margin-top: 20px;">
                    </div>
                </div>
            </div>

            <div class="learning-section">
                <div class="learning-number">7.</div>
                <h3 class="learning-title">Scaling Considerations That Shaped Our Architecture</h3>
                <p>
                    Several scaling decisions proved crucial:
                </p>
                <ul class="feature-list">
                    <li><strong>API rate limiting:</strong> Implemented queuing for high-usage periods</li>
                    <li><strong>Agent resource allocation:</strong> Each agent runs independently to prevent cascading failures</li>
                    <li><strong>Monitoring and observability:</strong> Comprehensive logging for each agent's performance</li>
                    <li><strong>Graceful degradation:</strong> System continues operating even when individual agents fail</li>
                </ul>
                <p class="key-learning">
                    <strong>Key Learning:</strong> Design for failure from day one. In multi-agent systems, individual component failures should not crash the entire system.
                </p>
            </div>

            <div class="final-section">
                <h3>The Production Reality</h3>
                <p>
                    Building a multi-agent system for enterprise use revealed that success depends as much on operational concerns (monitoring, error handling, state management) as on AI capabilities. The fundamentals—clear agent roles, robust error handling, and transparent reasoning—proved more critical than sophisticated AI techniques.
                </p>
                <p>
                    Most importantly, the "show your work" transparency feature became our most valuable debugging tool and user trust-building mechanism, demonstrating that explainable AI isn't just good practice—it's essential for enterprise adoption.
                </p>
            </div>
        </main>
    </div>
</body>
</html>
